<head>
    <title>todo app </title>
</head>
<script>

    // for getting all the todos
    function todosCallback(data){
        console.log(data)
    }

    function callback2(res){
        res.json().then(todosCallback)
    }

    function getData(){
        fetch("http://localhost:3000/todos", {
            method: "GET"
        }).then(callback2)
    }

    getData()

    // for post todos
    function parsedResponse(data){
        console.log(data)
    }
    function callback(res){
        res.json().then(parsedResponse)
    }
    function onPress(){
        var title = document.getElementById('title').value;
        var description = document.getElementById('description').value
        fetch("http://localhost:3000/todos",{
            method:"post",
            body:JSON.stringify({
                    title:title.trim(),
                    description:description.trim()
                }),
            headers:{
                "Content-Type":"application/json"
            }
        }).then(callback)
    }
</script>
<body>
    Todo title :&nbsp;
    <input type="text" id="title"/>
    <br><br>
    Todo description :&nbsp;
    <input type="text" id="description"/>
    <br><br>
    <button onClick="onPress()">send todo</button>
</body>